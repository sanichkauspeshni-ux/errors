<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formularz zamówienia</title>
</head>
<body>
    <h1>Formularz zamówienia</h1>

    <div id="errorBox" class="error-box" ></div>

    <form id="orderForm" novalidate>
        <div>
            <label for="product">Produkt</label>
            <select id="product" name="product" required>
                <option value="">-- Wybierz produkt --</option>
                <option value="Jabłko">Jabłko</option>
                <option value="Pomarańcza">Pomarańcza</option>
                <option value="Banana">Banana</option>
                <option value="Winogrono">Winogrono</option>
                <option value="Ananas">Ananas</option>
            </select>
        </div>

        <div>
            <label for="quantity">Ilość</label>
            <input id="quantity" name="quantity" type="number" min="1" step="1" required>
        </div>

        <label class="checkbox-row" for="terms">
            <input id="terms" name="terms" type="checkbox" required>
            Akceptuję regulamin
        </label>

        <button type="submit">Złóż zamówienie</button>
    </form>

    <script>
        const form = document.getElementById('orderForm');
        const product = document.getElementById('product');
        const quantity = document.getElementById('quantity');
        const terms = document.getElementById('terms');
        const errorBox = document.getElementById('errorBox');

        form.addEventListener('submit', (event) => {
            event.preventDefault();
            const errors = [];

            if (!product.value) {
                errors.push('Wybierz produkt.');
            }

            if (!quantity.value || Number(quantity.value) <= 0) {
                errors.push('Ilość musi być większa od 0.');
            }

            if (!terms.checked) {
                errors.push('Zaakceptuj regulamin.');
            }

            if (errors.length > 0) {
                errorBox.style.display = 'block';
                let errorSingns = "";
                for(const elem of errors)
                { 
                    errorSingns += `<li>${elem}</li><br>`
                }
                errorBox.innerHTML = `<strong>Popraw następujące błędy:</strong><ul>${errorSingns}</ul>`;
                return;
            }

            errorBox.style.display = 'none';
            errorBox.innerHTML = '';
            alert('Formularz został wysłany poprawnie.');
        });
    </script>
</body>
</html>
